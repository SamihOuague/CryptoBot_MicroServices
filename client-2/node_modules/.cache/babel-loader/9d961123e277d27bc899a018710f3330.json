{"ast":null,"code":"import React,{useEffect}from\"react\";import{Link,useParams,Navigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{getProcessThunk,stopProcessThunk,restartProcessThunk,deleteProcessThunk}from\"./assetSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Asset(){var _useParams=useParams(),symbol=_useParams.symbol;var _useSelector=useSelector(function(state){return state.asset;}),asset=_useSelector.asset,pending=_useSelector.pending;var dispatch=useDispatch();useEffect(function(){dispatch(getProcessThunk(symbol));// eslint-disable-next-line\n},[]);if(!asset&&!pending){return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}else if(pending){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-spinner\"})})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container__nav\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-left\"}),\"Back\"]}),/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return dispatch(deleteProcessThunk({name:symbol}));},className:\"container__nav--delete\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"}),\"Delete\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container__asset\",children:[/*#__PURE__*/_jsx(\"h3\",{children:symbol.toUpperCase()}),asset.running?/*#__PURE__*/_jsx(\"div\",{className:\"btn--onoff btn--green\",onClick:function onClick(){return dispatch(stopProcessThunk({name:symbol.toUpperCase()}));},children:\"ON\"}):/*#__PURE__*/_jsx(\"div\",{className:\"btn--onoff btn--red\",onClick:function onClick(){return dispatch(restartProcessThunk({name:symbol.toUpperCase()}));},children:\"OFF\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container__asset__logs\",children:[].map(function(value,key){return value.split(\" \")[0]===\"WIN\"?/*#__PURE__*/_jsxs(\"div\",{className:\"container__asset__logs--log win\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"WIN\"}),/*#__PURE__*/_jsx(\"p\",{children:value.split(\" \")[1]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"container__asset__logs--log loss\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"LOSS\"}),/*#__PURE__*/_jsx(\"p\",{children:value.split(\" \")[1]})]});})})]})]});}}","map":{"version":3,"names":["React","useEffect","Link","useParams","Navigate","useDispatch","useSelector","getProcessThunk","stopProcessThunk","restartProcessThunk","deleteProcessThunk","Asset","symbol","state","asset","pending","dispatch","name","toUpperCase","running","map","value","key","split"],"sources":["/home/souaguen/workdir/CryptoBot_MicroServices/client-2/src/app/features/asset/Asset.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link, useParams, Navigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProcessThunk, stopProcessThunk, restartProcessThunk, deleteProcessThunk } from \"./assetSlice\";\n\nexport function Asset() {\n    const { symbol } = useParams();\n    const { asset, pending } = useSelector((state) => state.asset);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(getProcessThunk(symbol));\n        // eslint-disable-next-line\n    }, []);\n\n    if (!asset && !pending) {\n        return (<Navigate to=\"/\"/>);\n    } else if (pending) { \n        return (\n            <div className=\"container\">\n                <div className=\"spinner\">\n                    <i className=\"fa-solid fa-spinner\"></i>\n                </div>\n            </div>\n        );\n    } else {\n        return (\n            <div className=\"container\">\n                <div className=\"container__nav\">\n                    <Link to=\"/\"><i className=\"fa-solid fa-angle-left\"></i>Back</Link>\n                    <div onClick={() => dispatch(deleteProcessThunk({name: symbol}))} className=\"container__nav--delete\"><i className=\"fa-solid fa-trash\"></i>Delete</div>\n                </div>\n                <div className=\"container__asset\">\n                    <h3>{symbol.toUpperCase()}</h3>\n                    {(asset.running) ?\n                        <div className=\"btn--onoff btn--green\" \n                            onClick={() => dispatch(stopProcessThunk({name: symbol.toUpperCase()}))}>ON</div>\n                        : <div className=\"btn--onoff btn--red\"\n                            onClick={() => dispatch(restartProcessThunk({name: symbol.toUpperCase()}))}>OFF</div>\n                    }\n                    <hr/>\n                    <div className=\"container__asset__logs\">\n                        {[].map((value, key) => (\n                            (value.split(\" \")[0] === \"WIN\") ? \n                                <div className=\"container__asset__logs--log win\">\n                                    <p>WIN</p>\n                                    <p>{value.split(\" \")[1]}</p>\n                                </div> :\n                                <div className=\"container__asset__logs--log loss\">\n                                    <p>LOSS</p>\n                                    <p>{value.split(\" \")[1]}</p>\n                                </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,QAA1B,KAA0C,kBAA1C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,eAAT,CAA0BC,gBAA1B,CAA4CC,mBAA5C,CAAiEC,kBAAjE,KAA2F,cAA3F,C,wFAEA,MAAO,SAASC,MAAT,EAAiB,CACpB,eAAmBR,SAAS,EAA5B,CAAQS,MAAR,YAAQA,MAAR,CACA,iBAA2BN,WAAW,CAAC,SAACO,KAAD,QAAWA,MAAK,CAACC,KAAjB,EAAD,CAAtC,CAAQA,KAAR,cAAQA,KAAR,CAAeC,OAAf,cAAeA,OAAf,CACA,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAM,CACZe,QAAQ,CAACT,eAAe,CAACK,MAAD,CAAhB,CAAR,CACA;AACH,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAI,CAACE,KAAD,EAAU,CAACC,OAAf,CAAwB,CACpB,mBAAQ,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAR,CACH,CAFD,IAEO,IAAIA,OAAJ,CAAa,CAChB,mBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,SAAf,uBACI,UAAG,SAAS,CAAC,qBAAb,EADJ,EADJ,EADJ,CAOH,CARM,IAQA,CACH,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,wBAAa,UAAG,SAAS,CAAC,wBAAb,EAAb,UADJ,cAEI,aAAK,OAAO,CAAE,yBAAMC,SAAQ,CAACN,kBAAkB,CAAC,CAACO,IAAI,CAAEL,MAAP,CAAD,CAAnB,CAAd,EAAd,CAAkE,SAAS,CAAC,wBAA5E,wBAAqG,UAAG,SAAS,CAAC,mBAAb,EAArG,YAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,kBAAf,wBACI,oBAAKA,MAAM,CAACM,WAAP,EAAL,EADJ,CAEMJ,KAAK,CAACK,OAAP,cACG,YAAK,SAAS,CAAC,uBAAf,CACI,OAAO,CAAE,yBAAMH,SAAQ,CAACR,gBAAgB,CAAC,CAACS,IAAI,CAAEL,MAAM,CAACM,WAAP,EAAP,CAAD,CAAjB,CAAd,EADb,gBADH,cAGK,YAAK,SAAS,CAAC,qBAAf,CACE,OAAO,CAAE,yBAAMF,SAAQ,CAACP,mBAAmB,CAAC,CAACQ,IAAI,CAAEL,MAAM,CAACM,WAAP,EAAP,CAAD,CAApB,CAAd,EADX,iBALV,cAQI,aARJ,cASI,YAAK,SAAS,CAAC,wBAAf,UACK,GAAGE,GAAH,CAAO,SAACC,KAAD,CAAQC,GAAR,QACHD,MAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,IAAwB,KAAzB,cACI,aAAK,SAAS,CAAC,iCAAf,wBACI,0BADJ,cAEI,mBAAIF,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAJ,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,kCAAf,wBACI,2BADJ,cAEI,mBAAIF,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAJ,EAFJ,GANA,EAAP,CADL,EATJ,GALJ,GADJ,CA+BH,CACJ"},"metadata":{},"sourceType":"module"}